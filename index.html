<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ–‡éƒ½äº‘å›¾ï¼šå—äº¬ç°å½“ä»£æ–‡å­¦åœ°å›¾æ•°å­—å¯¼è§ˆä¸æ–‡åˆ›å¹³å°</title>
    <link rel="stylesheet" href="./css/style.css" />
    <!-- åœ¨index.htmlçš„<head>éƒ¨åˆ†æ·»åŠ  -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“š</text></svg>"
      type="image/svg+xml"
    />
    <link rel="stylesheet" href="./css/ai_assistant.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;500&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
      :root {
        --primary-color: #1a5fad;
        --secondary-color: #2a8fe6;
        --accent-color: #ff6b6b;
        --dark-text: #2d3748;
        --light-text: #718096;
        --bg-gradient: linear-gradient(135deg, #f8f9fa, #e9ecef);
        --side-panel-bg: rgba(255, 255, 255, 0.9);
        --side-panel-width: 280px;
        --bottom-panel-height: 300px;
      }

      body {
        font-family: "Noto Sans SC", sans-serif;
        background: var(--bg-gradient);
        color: var(--dark-text);
        line-height: 1.6;
        position: relative;
        min-height: 100vh;
        /* ä½¿ç”¨å›¾ç‰‡ä½œä¸ºé¼ æ ‡å…‰æ ‡ */
        cursor: url("./images/fly.cur"), auto;
      }

      /* ç¡®ä¿åœ°å›¾å®¹å™¨ä¹Ÿåº”ç”¨å…‰æ ‡æ ·å¼ */
      #mapContainer {
        cursor: url("./images/fly.cur"), auto !important;
      }

      /* ä¸ºæ‰€æœ‰å¯äº¤äº’å…ƒç´ ä¿æŒé»˜è®¤å…‰æ ‡ */
      button,
      a,
      input,
      .author-card,
      .panel-toggle {
        cursor: pointer !important;
      }

      .header {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
          url("https://example.com/nanjing-skyline.jpg") center/cover;
        color: white;
        padding: 3rem 1rem;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .header h1 {
        font-family: "Noto Serif SC", serif;
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        animation: fadeInDown 1s ease;
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.9;
        animation: fadeIn 1.5s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .explore-btn-container {
        position: relative;
        overflow: hidden;
        margin: 3rem 0;
        padding: 4rem 0;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
      }

      .explore-btn {
        display: inline-block;
        padding: 1rem 2.5rem;
        border-radius: 50px;
        font-weight: bold;
        text-decoration: none;
        box-shadow: 0 10px 20px rgba(42, 143, 230, 0.3);
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: all 0.4s;
        margin: 0 3rem;
      }

      .explore-btn:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          var(--primary-color),
          var(--secondary-color)
        );
        z-index: -1;
        transition: all 0.4s;
      }

      .explore-btn:hover:before {
        transform: scale(1.05);
        opacity: 0.8;
      }

      .explore-btn:after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 5px;
        height: 5px;
        background: rgba(255, 255, 255, 0.5);
        opacity: 0;
        border-radius: 100%;
        transform: scale(1, 1) translate(-50%, -50%);
        transform-origin: 50% 50%;
      }

      .explore-btn:hover:after {
        animation: ripple 1s ease-out;
      }

      @keyframes ripple {
        0% {
          transform: scale(0, 0);
          opacity: 0.5;
        }
        100% {
          transform: scale(20, 20);
          opacity: 0;
        }
      }

      .location-detail h3 {
        color: var(--primary-color);
        font-family: "Noto Serif SC", serif;
        margin-bottom: 0.5rem;
        position: relative;
        padding-bottom: 0.5rem;
      }

      .location-detail h3:after {
        content: "";
        position: absolute;
        left: 0;
        bottom: 0;
        width: 50px;
        height: 3px;
        background: var(--accent-color);
      }

      .author-info {
        background: rgba(255, 255, 255, 0.9);
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      }

      .author-info h3 {
        color: var(--primary-color);
        margin-bottom: 0.5rem;
      }

      .author-info p {
        color: var(--light-text);
        margin-bottom: 1rem;
      }

      .work-title {
        font-weight: bold;
        color: var(--dark-text);
      }

      .work-author {
        font-size: 0.9rem;
        color: var(--light-text);
        margin: 0.3rem 0;
      }

      .work-excerpt {
        font-size: 0.9rem;
        line-height: 1.5;
        color: #4a5568;
      }

      .container {
        display: flex;
        flex-direction: column;
        max-width: 1400px;
        margin: 2rem auto;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        overflow: hidden;
        background: white;
        position: relative;
        z-index: 1;
      }

      #mapContainer {
        height: 600px;
        width: 100%;
        position: relative;
        border-bottom: 1px solid #e2e8f0;
      }

      .sidebar {
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      #infoPanel {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
        background: white;
        border-right: 1px solid #e2e8f0;
      }

      .location-detail,
      .author-info {
        animation: fadeIn 0.5s ease;
      }

      .literary-works ul {
        list-style-type: none;
        padding: 0;
      }

      .literary-works li {
        padding: 0.8rem;
        margin: 0.5rem 0;
        background: rgba(74, 108, 247, 0.05);
        border-left: 3px solid var(--primary-color);
        transition: all 0.3s;
      }

      .literary-works li:hover {
        background: rgba(74, 108, 247, 0.1);
        transform: translateX(5px);
      }

      .counter {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        background: var(--primary-color);
        color: white;
        font-weight: 500;
      }

      .counter-number {
        font-size: 1.8rem;
        font-weight: bold;
        margin: 0 0.5rem;
        color: rgb(15, 26, 78);
      }

      .search-container {
        max-width: 800px;
        margin: -2rem auto 2rem;
        position: relative;
        z-index: 10;
        padding: 0 1rem;
      }

      #searchInput {
        width: 100%;
        padding: 1rem 1.5rem;
        border: none;
        border-radius: 50px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        font-size: 1.1rem;
        transition: all 0.3s;
        background: white
          url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%23718096" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>')
          no-repeat 1.5rem center;
        padding-left: 3.5rem;
      }

      #searchInput:focus {
        outline: none;
        box-shadow: 0 5px 20px rgba(42, 143, 230, 0.3);
        transform: translateY(-2px);
      }

      #searchBtn {
        position: absolute;
        right: 0;
        top: 0;
        height: 100%;
        padding: 0 1.5rem;
        border: none;
        background: var(--primary-color);
        color: white;
        border-radius: 0 50px 50px 0;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s;
      }

      #searchBtn:hover {
        background: var(--secondary-color);
      }

      /* æ–°å¢ï¼šä¾§è¾¹æ»šåŠ¨é¢æ¿æ ·å¼ */
      .side-panel {
        position: fixed;
        top: 0;
        bottom: 0;
        width: var(--side-panel-width);
        background: var(--side-panel-bg);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
        z-index: 100;
        overflow-y: auto;
        transition: transform 0.4s ease;
        backdrop-filter: blur(5px);
        border-radius: 0 12px 12px 0;
      }

      .left-panel {
        left: 0;
        transform: translateX(-100%);
      }

      .right-panel {
        right: 0;
        transform: translateX(100%);
      }

      .bottom-panel {
        position: fixed;
        left: 0;
        right: 0;
        height: var(--bottom-panel-height);
        background: var(--side-panel-bg);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
        z-index: 100;
        overflow-y: auto;
        transition: transform 0.4s ease;
        backdrop-filter: blur(5px);
        border-radius: 12px 12px 0 0;
        bottom: 0;
        transform: translateY(100%);
      }

      .side-panel.visible,
      .bottom-panel.visible {
        transform: translateX(0);
      }

      .bottom-panel.visible {
        transform: translateY(0);
      }

      .panel-toggle {
        position: fixed;
        background: var(--primary-color);
        color: white;
        width: 40px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        z-index: 101; /* æé«˜z-indexä½¿å…¶åœ¨é¢æ¿ä¹‹ä¸Š */
        transition: all 0.3s ease;
      }

      /* å·¦ä¾§æŒ‰é’®å®šä½åœ¨é¢æ¿å¤–ä¾§ */
      .left-toggle {
        top: 50%;
        left: 0;
        transform: translateY(-50%);
        border-radius: 0 8px 8px 0;
      }

      /* å³ä¾§æŒ‰é’®å®šä½åœ¨é¢æ¿å¤–ä¾§ */
      .right-toggle {
        top: 50%;
        right: 0;
        transform: translateY(-50%);
        border-radius: 8px 0 0 8px;
      }

      /* åº•éƒ¨æŒ‰é’®å®šä½ */
      .bottom-toggle {
        left: 50%;
        bottom: 0;
        transform: translateX(-50%);
        border-radius: 8px 8px 0 0;
        width: 60px;
        height: 40px;
      }

      /* å½“å·¦ä¾§é¢æ¿æ‰“å¼€æ—¶ï¼ŒæŒ‰é’®çš„ä½ç½®è°ƒæ•´ */
      .left-panel.visible ~ .left-toggle {
        left: var(--side-panel-width);
      }

      /* å½“å³ä¾§é¢æ¿æ‰“å¼€æ—¶ï¼ŒæŒ‰é’®çš„ä½ç½®è°ƒæ•´ */
      .right-panel.visible ~ .right-toggle {
        right: var(--side-panel-width);
      }

      /* å½“åº•éƒ¨é¢æ¿æ‰“å¼€æ—¶ï¼ŒæŒ‰é’®çš„ä½ç½®è°ƒæ•´ */
      .bottom-panel.visible ~ .bottom-toggle {
        bottom: var(--bottom-panel-height);
      }

      .panel-toggle:hover {
        background: var(--secondary-color);
        width: 45px;
      }

      .bottom-toggle:hover {
        height: 45px;
      }

      .panel-header {
        font-family: "Noto Serif SC", serif;
        font-size: 1.5rem;
        color: var(--primary-color);
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid var(--accent-color);
      }

      .timeline-item {
        margin-bottom: 1.5rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px dashed #e2e8f0;
      }

      .timeline-year {
        font-weight: bold;
        color: var(--secondary-color);
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
      }

      .timeline-content {
        font-size: 0.95rem;
        line-height: 1.6;
      }

      .author-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 1rem;
        margin-top: 1.5rem;
      }

      .author-card {
        background: rgba(42, 143, 230, 0.08);
        border-radius: 8px;
        padding: 0.8rem;
        text-align: center;
        transition: all 0.3s;
        cursor: pointer;
      }

      .author-card:hover {
        background: rgba(42, 143, 230, 0.15);
        transform: translateY(-3px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .author-name {
        font-weight: 500;
        font-size: 0.9rem;
        margin-top: 0.5rem;
      }

      .quote {
        font-style: italic;
        padding: 1rem;
        border-left: 3px solid var(--accent-color);
        background: rgba(255, 107, 107, 0.05);
        margin: 1.5rem 0;
        border-radius: 0 6px 6px 0;
      }

      .quote-author {
        text-align: right;
        font-size: 0.9rem;
        color: var(--light-text);
        margin-top: 0.5rem;
      }

      .recommended-book {
        display: flex;
        gap: 1rem;
        margin-bottom: 1.5rem;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }

      .book-cover {
        flex: 0 0 60px;
        height: 80px;
        background: var(--secondary-color);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 0.8rem;
        text-align: center;
        padding: 0.5rem;
        line-height: 1.3;
      }

      .book-info {
        flex: 1;
      }

      .book-title {
        font-weight: bold;
        margin-bottom: 0.3rem;
      }

      .book-author {
        font-size: 0.85rem;
        color: var(--light-text);
        margin-bottom: 0.5rem;
      }

      .book-desc {
        font-size: 0.85rem;
        line-height: 1.5;
      }

      .attraction-list {
        margin-bottom: 1.5rem;
      }

      .attraction-item {
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px dashed #e2e8f0;
      }

      .attraction-name {
        font-weight: bold;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
        cursor: pointer;
        transition: color 0.3s;
      }

      .attraction-name:hover {
        color: var(--secondary-color);
        text-decoration: underline;
      }

      .work-item {
        margin-left: 1rem;
        margin-bottom: 0.5rem;
      }

      .work-title {
        font-weight: 500;
      }

      .work-author {
        font-size: 0.85rem;
        color: var(--light-text);
      }

      .education-content {
        font-size: 0.95rem;
        line-height: 1.6;
        text-align: justify;
      }

      .education-section {
        margin-bottom: 1.5rem;
        text-align: left;
      }

      .education-section h3 {
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        font-size: 1.2rem;
        text-align: center;
      }

      .education-section p {
        margin-bottom: 0.8rem;
        text-align: left;
      }

      /* å¯ç‚¹å‡»çš„åœ°ç‚¹é“¾æ¥æ ·å¼ */
      .location-link {
        color: var(--primary-color);
        cursor: pointer;
        text-decoration: none;
        font-weight: bold;
        transition: color 0.3s;
        border-bottom: 1px dashed var(--primary-color);
      }

      .location-link:hover {
        color: var(--secondary-color);
        border-bottom: 1px solid var(--secondary-color);
      }

      /* å›¾ç‰‡å®¹å™¨æ ·å¼ - æ·»åŠ å±…ä¸­å’Œå¯¹é½æ§åˆ¶ */
      .image-container {
        margin: 1.5rem auto;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        max-width: 90%; /* æ§åˆ¶æœ€å¤§å®½åº¦ */
        text-align: center; /* ç¡®ä¿å†…å®¹å±…ä¸­ */
      }

      /* å›¾ç‰‡å¤§å°æ§åˆ¶ */
      .image-container img {
        width: 100%; /* å“åº”å¼å®½åº¦ */
        max-width: 500px; /* æœ€å¤§å®½åº¦é™åˆ¶ */
        height: auto; /* ä¿æŒæ¯”ä¾‹ */
        display: block;
        margin: 0 auto; /* æ°´å¹³å±…ä¸­ */
        transition: transform 0.3s ease;
      }

      /* å›¾ç‰‡æ‚¬åœæ•ˆæœ */
      .image-container img:hover {
        transform: scale(1.03);
      }

      /* å›¾ç‰‡æ ‡é¢˜æ ·å¼ */
      .image-caption {
        padding: 0.8rem;
        background: rgba(0, 0, 0, 0.05);
        font-size: 0.9rem;
        color: var(--light-text);
        text-align: center;
        margin-top: 0.5rem;
        border-radius: 0 0 8px 8px;
      }

      /* ä¸ºåº•éƒ¨é¢æ¿æ·»åŠ æ›´å¥½çš„å¸ƒå±€ */
      .bottom-panel .education-content {
        max-width: 100%;
        margin: 0 auto;
      }

      /* AIåŠ©æ‰‹æ ·å¼ - ç½®é¡¶ */
      #ai-assistant {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
      }

      #chat-container {
        width: 350px;
        height: 500px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: column;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .chat-header {
        background: var(--primary-color);
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .chat-header h3 {
        margin: 0;
        font-size: 1.2rem;
      }

      #close-chat {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #avatar-container {
        height: 100px;
        background: linear-gradient(135deg, #e8f4ff, #c2e0ff);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      #avatar-animation {
        width: 80px;
        height: 80px;
        background: url('./images/avatar.png') center/contain no-repeat;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }

      #chat-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        background: #f8f9fa;
      }

      .message {
        margin-bottom: 15px;
        padding: 10px 15px;
        border-radius: 18px;
        max-width: 80%;
        word-wrap: break-word;
      }

      .user-message {
        background: var(--primary-color);
        color: white;
        margin-left: auto;
        border-bottom-right-radius: 4px;
      }

      .assistant-message {
        background: white;
        border: 1px solid #e2e8f0;
        margin-right: auto;
        border-bottom-left-radius: 4px;
      }

      .chat-input {
        display: flex;
        padding: 15px;
        border-top: 1px solid #e2e8f0;
        background: white;
      }

      #user-input {
        flex: 1;
        padding: 12px 15px;
        border: 1px solid #e2e8f0;
        border-radius: 25px;
        outline: none;
        font-size: 0.9rem;
      }

      #send-btn {
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 25px;
        padding: 0 20px;
        margin-left: 10px;
        cursor: pointer;
        transition: background 0.3s;
      }

      #send-btn:hover {
        background: var(--secondary-color);
      }

      #chat-toggle {
        position: absolute;
        bottom: -50px;
        right: 0;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
      }

      #chat-toggle:hover {
        background: var(--secondary-color);
        transform: scale(1.1);
      }

      /* å“åº”å¼è°ƒæ•´ */
      @media (max-width: 1200px) {
        .side-panel {
          width: 240px;
        }
      }

      @media (max-width: 992px) {
        .side-panel {
          width: 220px;
          padding: 1rem;
        }

        .panel-header {
          font-size: 1.3rem;
        }
        
        #ai-assistant {
          right: 10px;
          top: 10px;
        }
        
        #chat-container {
          width: 300px;
          height: 450px;
        }
      }

      @media (max-width: 768px) {
        .side-panel {
          width: 85%;
          border-radius: 0;
        }

        .left-panel {
          transform: translateX(-100%);
        }

        .right-panel {
          transform: translateX(100%);
        }

        .bottom-panel {
          height: 60%;
        }

        .panel-toggle {
          display: none;
        }

        .image-container {
          max-width: 95%;
          margin: 1rem auto;
        }
        
        .image-container img {
          max-width: 100%; /* åœ¨å°å±å¹•ä¸Šä½¿ç”¨å…¨å®½ */
        }
        
        .education-section h3 {
          text-align: left; /* å°å±å¹•ä¸Šæ ‡é¢˜å·¦å¯¹é½ */
        }
        
        #ai-assistant {
          position: fixed;
          top: 10px;
          right: 10px;
        }
        
        #chat-container {
          width: calc(100vw - 40px);
          height: 400px;
        }
      }
      .imgFooter {
        transition: transform 0.3s ease;
      }
      .imgFooter:hover {
        transform: scale(0.9);
      }
    </style>
  </head>
  <body>
    <!-- AIåŠ©æ‰‹å®¹å™¨ - ç½®é¡¶ -->
    <div id="ai-assistant">
      <div id="chat-container">
        <div class="chat-header">
          <h3>å—äº¬æ–‡å­¦åŠ©æ‰‹</h3>
          <button id="close-chat">Ã—</button>
        </div>
        <!-- è™šæ‹Ÿå½¢è±¡åŒºåŸŸ -->
        <div id="avatar-container">
          <div id="avatar-animation"></div>
        </div>
        <div id="chat-messages"></div>
        <div class="chat-input">
          <input
            type="text"
            id="user-input"
            placeholder="è¾“å…¥å…³äºå—äº¬ç°å½“ä»£æ–‡å­¦çš„é—®é¢˜..."
          />
          <button id="send-btn">å‘é€</button>
        </div>
      </div>
      <button id="chat-toggle">ğŸ’¬</button>
    </div>

    <!-- å·¦ä¾§ä¿¡æ¯é¢æ¿ - åŒ…å«åŸæœ‰"æ–‡"å’Œ"å­¦"çš„å†…å®¹ -->
    <div class="side-panel left-panel" id="leftPanel">
      <div class="panel-header">å—äº¬æ–‡å­¦æ—¶é—´è½´</div>

      <div class="timeline-item">
        <div class="timeline-year">1920-1930</div>
        <div class="timeline-content">
          <p>
            å—äº¬æˆä¸ºæ–°æ–‡åŒ–è¿åŠ¨çš„é‡è¦é˜µåœ°ï¼Œæœ±è‡ªæ¸…ã€ä¿å¹³ä¼¯ç­‰ä½œå®¶åœ¨å—äº¬åˆ›ä½œäº†å¤§é‡ä½œå“ã€‚
          </p>
          <p>1923å¹´ï¼Œæœ±è‡ªæ¸…åœ¨å—äº¬åˆ›ä½œäº†è‘—åæ•£æ–‡ã€Šæ¡¨å£°ç¯å½±é‡Œçš„ç§¦æ·®æ²³ã€‹ã€‚</p>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-year">1930-1940</div>
        <div class="timeline-content">
          <p>å—äº¬ä½œä¸ºæ°‘å›½é¦–éƒ½ï¼Œæ–‡å­¦åˆ›ä½œç¹è£ï¼Œæ¶Œç°å‡ºå¼ æ¨æ°´ã€å·´é‡‘ç­‰ä½œå®¶ã€‚</p>
          <p>1934å¹´ï¼Œå¼ æ¨æ°´å¼€å§‹åœ¨å—äº¬åˆ›ä½œã€Šé‡‘ç²‰ä¸–å®¶ã€‹ã€‚</p>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-year">1950-1960</div>
        <div class="timeline-content">
          <p>
            æ–°ä¸­å›½æˆç«‹åï¼Œå—äº¬æ–‡å­¦è¿›å…¥æ–°çš„å‘å±•é˜¶æ®µï¼Œé™†æ–‡å¤«ã€é«˜æ™“å£°ç­‰ä½œå®¶æ´»è·ƒã€‚
          </p>
          <p>1957å¹´ï¼Œé™†æ–‡å¤«å‘è¡¨çŸ­ç¯‡å°è¯´ã€Šå°å··æ·±å¤„ã€‹ï¼Œæå†™å—äº¬å°å¸‚æ°‘ç”Ÿæ´»ã€‚</p>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-year">1980è‡³ä»Š</div>
        <div class="timeline-content">
          <p>æ–°æ—¶æœŸå—äº¬æ–‡å­¦ç¹è£ï¼Œå¶å…†è¨€ã€è‹ç«¥ã€æ¯•é£å®‡ç­‰ä½œå®¶å´›èµ·ã€‚</p>
          <p>å¶å…†è¨€åˆ›ä½œäº†ã€Šå—äº¬äººã€‹ã€Šå—äº¬ä¼ ã€‹ç­‰å—äº¬é¢˜æä½œå“ã€‚</p>
        </div>
      </div>

      <div class="panel-header" style="margin-top: 2rem">å—äº¬ä½œå®¶ç¾¤</div>
      <div class="author-list">
        <div class="author-card" data-author="æœ±è‡ªæ¸…">
          <div class="author-name">æœ±è‡ªæ¸…</div>
        </div>
        <div class="author-card" data-author="ä¿å¹³ä¼¯">
          <div class="author-name">ä¿å¹³ä¼¯</div>
        </div>
        <div class="author-card" data-author="å¼ æ¨æ°´">
          <div class="author-name">å¼ æ¨æ°´</div>
        </div>
        <div class="author-card" data-author="å·´é‡‘">
          <div class="author-name">å·´é‡‘</div>
        </div>
        <div class="author-card" data-author="å¶å…†è¨€">
          <div class="author-name">å¶å…†è¨€</div>
        </div>
        <div class="author-card" data-author="è‹ç«¥">
          <div class="author-name">è‹ç«¥</div>
        </div>
        <div class="author-card" data-author="æ¯•é£å®‡">
          <div class="author-name">æ¯•é£å®‡</div>
        </div>
        <div class="author-card" data-author="é™†æ–‡å¤«">
          <div class="author-name">é™†æ–‡å¤«</div>
        </div>
      </div>

      <div class="quote">
        "é€›å—äº¬åƒé€›å¤è‘£é“ºå­ï¼Œåˆ°å¤„éƒ½æœ‰äº›æ—¶ä»£ä¾µèš€çš„é—ç—•ã€‚ä½ å¯ä»¥æ‘©æŒ²ï¼Œå¯ä»¥å‡­åŠï¼Œå¯ä»¥æ‚ ç„¶éæƒ³..."
        <div class="quote-author">â€”â€” æœ±è‡ªæ¸…ã€Šå—äº¬ã€‹</div>
      </div>

      <div class="panel-header" style="margin-top: 2rem">æ–‡å­¦åœ°æ ‡å¯¼è§ˆ</div>

      <div class="recommended-book">
        <div class="book-cover">ç§¦æ·®æ²³</div>
        <div class="book-info">
          <div class="book-title">æ¡¨å£°ç¯å½±é‡Œçš„ç§¦æ·®æ²³</div>
          <div class="book-author">æœ±è‡ªæ¸…</div>
          <div class="book-desc">
            æœ±è‡ªæ¸…ä¸ä¿å¹³ä¼¯åŒæ¸¸ç§¦æ·®æ²³åå„è‡ªåˆ›ä½œçš„æ•£æ–‡åç¯‡ï¼Œæå†™äº†ç§¦æ·®æ²³å¤œæ™¯å’Œäººæ–‡é£æƒ…ã€‚
          </div>
        </div>
      </div>

      <div class="recommended-book">
        <div class="book-cover">å¤«å­åº™</div>
        <div class="book-info">
          <div class="book-title">å—äº¬äºº</div>
          <div class="book-author">å¶å…†è¨€</div>
          <div class="book-desc">
            å¶å…†è¨€ç¬”ä¸‹å—äº¬äººçš„ç”Ÿæ´»ç™¾æ€ï¼Œå¤«å­åº™çš„å¸‚äº•æ°”æ¯åœ¨ä¹¦ä¸­å¾—åˆ°ç”ŸåŠ¨å±•ç°ã€‚
          </div>
        </div>
      </div>

      <div class="recommended-book">
        <div class="book-cover">ä¸­å±±é™µ</div>
        <div class="book-info">
          <div class="book-title">é’Ÿå±±é£é›¨</div>
          <div class="book-author">å¼ æ¨æ°´</div>
          <div class="book-desc">
            ä»¥å—äº¬ä¸ºèƒŒæ™¯çš„é•¿ç¯‡å°è¯´ï¼Œæç»˜äº†æ°‘å›½æ—¶æœŸå—äº¬çš„ç¤¾ä¼šå˜è¿ã€‚
          </div>
        </div>
      </div>

      <div class="panel-header" style="margin-top: 1.5rem">æ–‡å­¦å°è´´å£«</div>
      <div class="timeline-content">
        <p><strong>å—äº¬æ–‡å­¦åœ°å›¾ä½¿ç”¨æŒ‡å—ï¼š</strong></p>
        <ul>
          <li>ç‚¹å‡»åœ°å›¾ä¸Šçš„æ ‡è®°ç‚¹æŸ¥çœ‹è¯¦æƒ…</li>
          <li>æœç´¢æ¡†å¯æŸ¥æ‰¾ä½œå®¶åŠä½œå“</li>
          <li>ä½œå®¶å¡ç‰‡å¯å¿«é€Ÿå®šä½ç›¸å…³åœ°ç‚¹</li>
          <li>ä½¿ç”¨æ—¶é—´è½´äº†è§£æ–‡å­¦å‘å±•è„‰ç»œ</li>
        </ul>
      </div>

      <div class="quote">
        "å—äº¬çš„å¯çˆ±ï¼Œåœ¨æ–‡å­¦ä¸­è¡¨ç°å¾—æœ€ä¸ºå……åˆ†ã€‚å…­æœå¤éƒ½çš„æ²§æ¡‘ï¼Œç§¦æ·®æ²³çš„é£æœˆï¼Œç„æ­¦æ¹–çš„çƒŸæ³¢ï¼Œéƒ½åœ¨ä½œå®¶ç¬”ä¸‹å¾—åˆ°äº†æ°¸ç”Ÿ."
        <div class="quote-author">â€”â€” å¶å…†è¨€</div>
      </div>
    </div>

    <!-- å³ä¾§ä¿¡æ¯é¢æ¿ - æ—…æ¸¸æ™¯ç‚¹ä¸ä½œå“ -->
    <div class="side-panel right-panel" id="rightPanel">
      <div class="panel-header">å—äº¬æ™¯ç‚¹ä¸æ–‡å­¦ä½œå“</div>

      <div class="attraction-list">
        <div class="attraction-item">
          <div class="attraction-name" data-location="ç§¦æ·®æ²³">ç§¦æ·®æ²³ / ç§¦æ·®</div>
          <div class="work-item">
            <div class="work-title">ã€Šæ¡¨å£°ç¯å½±é‡Œçš„ç§¦æ·®æ²³ã€‹</div>
            <div class="work-author">æœ±è‡ªæ¸…</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šæ¡¨å£°ç¯å½±é‡Œçš„ç§¦æ·®æ²³ã€‹</div>
            <div class="work-author">ä¿å¹³ä¼¯</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç§¦æ·®ä¸–å®¶ã€‹</div>
            <div class="work-author">å¼ æ¨æ°´</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç§¦æ·®ç™¾å§“å®¶ã€‹</div>
            <div class="work-author">ä¸å®¶æ¡</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç§¦æ·®æ‹¾æ¢¦è®°ã€‹</div>
            <div class="work-author">é»„è£³</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç§¦æ·®æ²³è¾¹æ‹¾ç“·ä¹ã€‹</div>
            <div class="work-author">ç‹å¾·å®‰</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç§¦æ·®æ²³ä¸Šçš„éæ€ã€‹</div>
            <div class="work-author">èµµç‘è•»</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šå“¦ï¼Œåé‡Œç§¦å‡†ã€‹</div>
            <div class="work-author">èµµç¿¼å¦‚</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç§¦å‡†ã€‹</div>
            <div class="work-author">å¨œå½§</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šæ—§å½±ç§¦æ·®ã€‹</div>
            <div class="work-author">å¶å…†è¨€</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šå®¶ä½å…­æœçƒŸæ°´é—´ã€‹</div>
            <div class="work-author">è–›å†°</div>
          </div>
        </div>

        <div class="attraction-item">
          <div class="attraction-name" data-location="ç„æ­¦æ¹–">ç„æ­¦æ¹–</div>
          <div class="work-item">
            <div class="work-title">ã€Šç„æ­¦æ¹–ä¹‹ç§‹ã€‹</div>
            <div class="work-author">å€ªè´»å¾·</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šç„æ­¦æ¹–å¿†æ—§ã€‹</div>
            <div class="work-author">ç¨‹åƒå¸†</div>
          </div>
        </div>

        <div class="attraction-item">
          <div class="attraction-name" data-location="é’Ÿå±±">é’Ÿå±±ï¼ˆç´«é‡‘å±±ï¼‰</div>
          <div class="work-item">
            <div class="work-title">ã€Šé’Ÿå±±è¡Œã€‹</div>
            <div class="work-author">æœ±å°</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šæ±Ÿè¡Œæœ›é’Ÿå±±ã€‹</div>
            <div class="work-author">æ±ªè¾Ÿç–†</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šä¸ç¥­é’Ÿå±±ä¹¦é™¢é£¨å ‚ç¤¼æˆæœ‰ä½œã€‹</div>
            <div class="work-author">æ¢å…¬çº¦</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šåœ¨ç´«é‡‘å±±æ˜Ÿåº§ä¸Šã€‹</div>
            <div class="work-author">å†¯äº¦åŒ</div>
          </div>
        </div>

        <div class="attraction-item">
          <div class="attraction-name" data-location="æ˜å­é™µ">æ˜å­é™µ</div>
          <div class="work-item">
            <div class="work-title">ã€Šè°’æ˜å­é™µã€‹</div>
            <div class="work-author">ä¸˜é€¢ç”²</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šæ˜å­é™µå¿—ã€‹</div>
            <div class="work-author">ç‹ç„•é•³</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šåœ¨æ˜å­é™µä¹˜å‡‰ã€‹</div>
            <div class="work-author">é­å¾®</div>
          </div>
        </div>

        <div class="attraction-item">
          <div class="attraction-name" data-location="è«æ„æ¹–">è«æ„æ¹–</div>
          <div class="work-item">
            <div class="work-title">ã€Šé›ªä¸­æ¸¸è«æ„æ¹–ã€‹</div>
            <div class="work-author">ä¸˜é€¢ç”²</div>
          </div>
        </div>

        <div class="attraction-item">
          <div class="attraction-name" data-location="çµè°·å¯º">çµè°·å¯º</div>
          <div class="work-item">
            <div class="work-title">ã€Šç‹¬å¾€çµè°·å¯ºã€‹</div>
            <div class="work-author">æŸ³è¯’å¾½</div>
          </div>
          <div class="work-item">
            <div class="work-title">ã€Šæ¸¸çµè°·å¯ºè®°ã€‹</div>
            <div class="work-author">è§‰ä½™</div>
          </div>
        </div>
      </div>
    </div>

    <!-- åº•éƒ¨ä¿¡æ¯é¢æ¿ - æ•™è‚²å†…å®¹ -->
    <div class="bottom-panel" id="bottomPanel">
      <div class="panel-header">å—äº¬æ–‡å­¦æ•™è‚²å†…å®¹</div>
      
      <div class="education-content">
        <div class="education-section">
          <h3>ã€Šå›½è¡Œå…¬ç¥­ï¼Œä¸ºä½‘ä¸–ç•Œå’Œå¹³ã€‹</h3>
          <p><strong>èƒŒæ™¯çŸ¥è¯†</strong></p>
          <p>1937å¹´12æœˆ13æ—¥ï¼Œä¾µåæ—¥å†›ä¾µå…¥å—äº¬å¹¶è¿›è¡Œäº†æƒ¨ç»äººå¯°çš„å¤§å± æ€ï¼Œåœ¨äººç±»æ–‡æ˜å²ä¸Šç•™ä¸‹äº†æœ€é»‘æš—çš„ä¸€é¡µã€‚</p>

          <p>2014å¹´2æœˆ27æ—¥ï¼Œç¬¬åäºŒå±Šå…¨å›½äººå¤§å¸¸å§”ä¼šç¬¬ä¸ƒæ¬¡ä¼šè®®é€šè¿‡å†³å®šï¼Œä»¥ç«‹æ³•å½¢å¼å°†12æœˆ13æ—¥è®¾ç«‹ä¸ºå—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­æ—¥ã€‚å†³è®®çš„é€šè¿‡ï¼Œä½¿å¾—å¯¹å—äº¬å¤§å± æ€é‡éš¾è€…çš„çºªå¿µä¸Šå‡åˆ°å›½å®¶å±‚é¢ã€‚å›½å®¶å…¬ç¥­æ—¥çš„è®¾ç«‹è¡¨æ˜ä¸­å›½äººæ°‘åå¯¹ä¾µç•¥æˆ˜äº‰ã€æå«äººç±»å°Šä¸¥ã€ç»´æŠ¤ä¸–ç•Œå’Œå¹³çš„åšå®šç«‹åœºã€‚</p>
          <p>2017å¹´12æœˆ13æ—¥ï¼Œæ˜¯å—äº¬å¤§å± æ€æƒ¨æ¡ˆå‘ç”Ÿ80å‘¨å¹´ï¼Œä¹Ÿæ˜¯ç¬¬å››ä¸ªå—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­æ—¥ï¼Œã€Šäººæ°‘æ—¥æŠ¥ã€‹å‘è¡¨æ­¤æ–‡ï¼Œæ·±åˆ‡ç¼…æ€€å—äº¬å¤§å± æ€ä¸­çš„æ— è¾œæ­»éš¾è€…ï¼Œå¹¶è­¦ç¤ºä¸–äººé“­è®°å†å²ï¼Œå‹¿å¿˜ä¼¤ç—›ï¼Œå…±åŒæå«ä¸–ç•Œå’Œå¹³.</p>
        </div>

        <div class="education-section">
          <h3>çŸ¥è¯†æ‹“å±•</h3>
          <p><strong>1.å—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­æ—¥</strong></p>
          <p>2014å¹´2æœˆ27æ—¥ï¼Œç¬¬åäºŒå±Šå…¨å›½äººå¤§å¸¸å§”ä¼šç¬¬ä¸ƒæ¬¡ä¼šè®®é€šè¿‡å†³å®šï¼Œå°†æ¯å¹´çš„12æœˆ13æ—¥è®¾ç«‹ä¸ºå—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­æ—¥.å†³è®®çš„é€šè¿‡ï¼Œä½¿å¾—å¯¹å—äº¬å¤§å± æ€é‡éš¾è€…çš„çºªå¿µä¸Šå‡ä¸ºå›½å®¶å±‚é¢ï¼Œè¡¨æ˜äº†ä¸­å›½äººæ°‘åå¯¹ä¾µç•¥æˆ˜äº‰ã€æå«äººç±»å°Šä¸¥ã€ç»´æŠ¤ä¸–ç•Œå’Œå¹³çš„åšå®šç«‹åœº.</p>
          
          <p><strong>2.å—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­é¼</strong></p>
          <p>å›½å®¶å…¬ç¥­é¼é«˜165å˜ç±³ï¼Œå£å¾„132å˜ç±³.é“œè´¨çš„é¼èº«å’Œé“œè´¨çš„åº•åº§é‡2014å…¬æ–¤ï¼ŒçŸ³è´¨çš„åº•åº§é‡1213å…¬æ–¤ï¼Œè±¡å¾2014å¹´12æœˆ13æ—¥ä¸¾è¡Œé¦–æ¬¡å›½å®¶å…¬ç¥­.</p>
          <p>é¼ä¸Šé¥°ä»¥æ¤ç‰©çº¹å’Œå·äº‘çº¹.ä»¥é¼è¶³ä¸ºç•Œï¼Œæ‰€æœ‰æ–‡å­—è¢«åˆ»åœ¨é¼èº«ä¸Šçš„ä¸‰ä¸ªéƒ¨åˆ†:å·¦åæ–¹å’Œå³åæ–¹çš„ä¸¤é¢ï¼Œç¯†åˆ»å›½å®¶å…¬ç¥­æ—¥çš„è®°äº‹æ–‡ï¼Œå…±ä¸¤ç™¾å¤šå­—ï¼Œç”¨å°æ¥·ä¹¦å†™;è€Œæ­£é¢ç¯†åˆ»æœ€é‡è¦çš„é“­æ–‡ï¼Œä¸€ç™¾å…­åå­—ï¼Œç”¨é­ç¢‘ä¹¦å†™.</p>
          
          <p><strong>3.å—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­é¼é“­æ–‡</strong></p>
          <p>æ³±æ³±åå¤ï¼Œèµ«èµ«æ–‡æ˜.ä»é£è¿œæ’­ï¼Œå¤§åŒ–å‘¨è¡Œ.æ³ŠåŠè¿‘ä»£ï¼Œç§¯å¼±ç§¯è´«.</p>
          <p>ä¾µåæ—¥å¯‡ï¼Œæ¯å¾å—äº¬.åŠ«æ é»åº¶ï¼Œå± æˆ®è‹ç”Ÿ.ä¹åŸæ¿è¡ï¼Œç™¾è½½é™†æ²‰.</p>
          <p>å…ä¸‡äº¡çµï¼Œé¥®æ¨æ±ŸåŸ.æ—¥æœˆæƒ¨æ·¡ï¼Œå¯°å®‡éœ‡æƒŠ.å…½è¡Œæš´è™ï¼Œæ—·ä¸–æœªé—».</p>
          <p>åŒèƒä½•è¾œï¼Œå›½éš¾æ­£æ®·.å“€å…µå¥‹èµ·ï¼Œé‡‘æˆˆé¼é¼“.å…„å¼ŸåŒå¿ƒï¼Œå…±å¾¡å¤–ä¾®.</p>
          <p>æèº¯æ´’è¡€ï¼Œæµ©æ°”å¹²äº‘.å°½æ‰«ç‹¼çƒŸï¼Œé‡æŒ¯ä¹¾å¤.ä¹™é…‰æ—¢æ·ï¼Œå®¶å›½ç»´æ–°.</p>
          <p>å›½è¡Œå…¬ç¥­ï¼Œæ³•ç«‹å…¸ç« .é“¸å…¹å®é¼ï¼Œç¥€æˆ‘å›½æ®‡.æ˜­æ˜­å‰äº‹ï¼Œæƒ•æƒ•åäºº.</p>
          <p>æ°¸çŸ¢å¼—è°–ï¼Œç¥ˆæ„¿å’Œå¹³.ä¸­ååœ†æ¢¦ï¼Œæ°‘æ—å¤å…´.</p>
        </div>

        <div class="education-section">
          <h3>é“¾æ¥æ–‡éƒ½</h3>
          <p><strong><span class="location-link" data-location="ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†">ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†</span></strong></p>
          <p>åœ°å€ï¼šæ±Ÿè‹çœå—äº¬å¸‚å»ºé‚ºåŒºæ°´è¥¿é—¨å¤§è¡—418å·</p>
          <p>ä»‹ç»ï¼šä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†å»ºç«‹åœ¨å—äº¬å¤§å± æ€æ­»éš¾è€…é—éª¸åŸå€ä¸Šï¼Œäº1985å¹´8æœˆ15æ—¥å»ºæˆå¼€æ”¾ï¼Œä¸ºå…¨å›½é‡ç‚¹æ–‡ç‰©ä¿æŠ¤å•ä½ã€å…¨å›½çˆ±å›½ä¸»ä¹‰æ•™è‚²ç¤ºèŒƒåŸºåœ°ã€å›½å®¶ä¸€çº§åšç‰©é¦†ã€æµ·å³¡ä¸¤å²¸äº¤æµåŸºåœ°ã€å›½é˜²æ•™è‚²åŸºåœ°ï¼Œå…¥é€‰ç¬¬ä¸€æ‰¹"å›½å®¶çº§æŠ—æˆ˜çºªå¿µè®¾æ–½ã€é—å€åå½•".2014å¹´èµ·ï¼Œæˆä¸ºå—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­ä»ªå¼ä¸¾åŠåœ°ï¼Œæ˜¯ã€Šå—äº¬å¸‚å›½å®¶å…¬ç¥­ä¿éšœæ¡ä¾‹ã€‹è§„å®šçš„å›½å®¶å…¬ç¥­åœºæ‰€.</p>
          <p>çºªå¿µé¦†æ€»å åœ°é¢ç§¯10.3ä¸‡å¹³æ–¹ç±³ï¼Œå±•é™ˆé¢ç§¯è¿‘2ä¸‡å¹³æ–¹ç±³ï¼Œè®¾æœ‰é›•å¡‘å¹¿åœºã€å…¬ç¥­å¹¿åœºã€å²æ–™é™ˆåˆ—å…ã€æ‚¼å¿µå¹¿åœºã€å¢“åœ°å¹¿åœºã€"ä¸‡äººå‘"é—å€ã€ç¥­åœºã€å†¥æ€å…ã€å’Œå¹³å…¬å›­ç­‰åŒºåŸŸï¼Œç®¡ç†å—äº¬åˆ©æµå··æ…°å®‰æ‰€æ—§å€é™ˆåˆ—é¦†ï¼›è®¾æœ‰åŸºæœ¬é™ˆåˆ—"å—äº¬å¤§å± æ€å²å®å±•"ã€ä¸»é¢˜å±•è§ˆ"æ­£ä¹‰å¿…èƒœ å’Œå¹³å¿…èƒœ äººæ°‘å¿…èƒœ------ä¸­å›½æˆ˜åŒºåæ³•è¥¿æ–¯æˆ˜äº‰èƒœåˆ©æš¨å®¡åˆ¤æ—¥æœ¬æˆ˜çŠ¯å²å®å±•"ã€"æ…°å®‰å¦‡"å—å®³è€…ä¸“é¢˜é™ˆåˆ—"äºŒæˆ˜ä¸­çš„æ€§å¥´éš¶------æ—¥å†›'æ…°å®‰å¦‡'åˆ¶åº¦åŠå…¶ç½ªè¡Œå±•"ï¼Œå¼•å¯¼å…¬ä¼—ç‰¢è®°å†å²ã€ä¸å¿˜è¿‡å»ï¼Œççˆ±å’Œå¹³ã€å¼€åˆ›æœªæ¥.</p>
          
          <!-- æ’å…¥ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†ç…§ç‰‡ -->
          <div class="image-container">
            <img src="./images/è‚²01.png" alt="ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†">
            <div class="image-caption">ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†</div>
          </div>
        </div>

        <div class="education-section">
          <h3>ã€ŠèƒŒå½±ã€‹</h3>
          <p><strong>ä½œè€…ï¼š</strong>æœ±è‡ªæ¸…ï¼ˆ1898-1948ï¼‰ï¼Œå­—ä½©å¼¦ï¼Œæ±Ÿè‹çœæ‰¬å·å¸‚äºº.ç°ä»£æ•£æ–‡å®¶ã€è¯—äººã€å­¦è€…ã€æ°‘ä¸»æˆ˜å£«.æœ‰è¯—æ–‡é›†ã€Šè¸ªè¿¹ã€‹ï¼Œæ•£æ–‡é›†ã€Šæ¬§æ¸¸æ‚è®°ã€‹ç­‰.</p>
          
          <p><strong>å†™ä½œèƒŒæ™¯ï¼š</strong></p>
          <p>1916å¹´ï¼Œæœ±å®¶çš„å¢ƒå†µå·²å¤§ä¸å¦‚å‰ï¼Œçˆ¶äº²å°½äº†æœ€å¤§çš„åŠªåŠ›ï¼Œä½“é¢åœ°ä¸ºè‡ªæ¸…ç­¹åŠäº†å©šäº‹ï¼Œå¹¶é€ä»–å»åŒ—äº¬å¤§å­¦è¯»ä¹¦.å‡ ä¹ä¸æ­¤åŒæ—¶ï¼Œå®¶ä¸­å‘ç”Ÿäº†ä¸€ç³»åˆ—çš„å˜æ•….çˆ¶äº²çš„å…¬å–å±€é•¿èŒåŠ¡äº¤å¸äº†ï¼Œç¥–æ¯çš„å»ä¸–ï¼Œéƒ½ç»™å®¶åº­é€ æˆäº†ä¸€å®šçš„å›°éš¾.çˆ¶äº²è®¾æ³•å˜å–äº†å®¶äº§ï¼Œåˆåœ¨æ‰¬å·å€Ÿäº†ä¸€ç¬”é«˜åˆ©è´·.è¿™æ—¶ï¼Œæœ±è‡ªæ¸…æ¥åˆ°äº†ç¥–æ¯å»ä¸–çš„å™©è€—ï¼Œä¾¿ä¸çˆ¶äº²åŒè·¯å¥”ä¸§å›æ‰¬å·ï¼Œæ­¤æ—¶ä»–æ‰çœŸæ­£æ„Ÿå¾—äº†å®¶å¢ƒçš„å‡„å‡‰ï¼šå¾€æ—¥çš„å·¨å¤§å¤é’Ÿã€æœ±çº¢èƒ†ç“¶ã€ç¢§ç‰å¦‚æ„ã€æ¿æ¡¥æ‰‹è¿¹ç­‰ï¼Œå‡æ—©å·²è¿›äº†å½“é“ºï¼›æ»¡é™¢æ¯æè´¥å¶ï¼Œä¸€æ´¾è§æ¡çš„æ™¯è±¡.ä»–å‡è§†ç€å¾®å¾®å‘èƒ–è€Œç•¥æ˜¾é¾™é’Ÿçš„çˆ¶äº²ã€è€å®å·´äº¤çš„æ¯äº²å’Œå¼Ÿå¦¹ï¼Œå¿ƒæƒ…ååˆ†æ²‰é‡.åŠå®Œç¥–æ¯çš„ä¸§äº‹ï¼Œæœ±è‡ªæ¸…è¦å›åŒ—äº¬ï¼Œçˆ¶äº²ä¹Ÿä¸ºäº†ç”Ÿè®¡è€ŒåŒ†åŒ†å‰å¾€å—äº¬è°‹èŒï¼Œäºæ˜¯çˆ¶å­åŒè¡Œè‡³å—äº¬.ã€ŠèƒŒå½±ã€‹è®°è½½çš„ä¾¿æ˜¯ä»–ä¿©åœ¨æµ¦å£ä¸œç«™åˆ†æ‰‹æ—¶çš„æƒ…æ™¯.</p>
          
          <p><strong>è¯¾æ–‡ç®€ä»‹ï¼š</strong></p>
          <p>ã€ŠèƒŒå½±ã€‹æ˜¯å…«å¹´çº§ä¸Šå†Œç¬¬å››å•å…ƒçš„ä¸€ç¯‡å›å¿†æ€§æ•£æ–‡ï¼Œå®ƒé‡‡ç”¨è®°å®çš„æ‰‹æ³•ï¼Œé€šè¿‡ç‰¹å®šè§’åº¦çš„èƒŒå½±å»å†™çˆ¶å­é—´åœ¨é‚£ç‰¹æ®Šçš„ç¤¾ä¼šèƒŒæ™¯ä¸‹ç›¸æ€œç›¸çˆ±çš„æ„Ÿæƒ….ä½œä¸ºè¯­æ–‡æ•™æçš„ä¼ ç»Ÿè¯¾æ–‡ï¼Œã€ŠèƒŒå½±ã€‹æ„ŸæŸ“äº†ä¸€ä»£åˆä¸€ä»£äººï¼Œå› ä¸ºå®ƒä¸ä»…å†™å‡ºäº†ä¸€ç§å¼‚å¸¸çœŸæŒšä¸è‡³è¯šçš„çˆ¶å­æƒ…ï¼ŒåŒæ—¶åˆæ˜¯æ„æ€ç²¾å·§ã€å™äº‹ä¸­ç»“åˆæŠ’æƒ…çš„æ•£æ–‡ä»£è¡¨ç¯‡ç›®.</p>
          
          <p><strong>é“¾æ¥æ–‡éƒ½ï¼š</strong></p>
          <p><strong><span class="location-link" data-location="æµ¦å£ç«è½¦ç«™">æµ¦å£ç«è½¦ç«™</span></strong></p>
          <p>åœ°å€ï¼šæ±Ÿè‹çœå—äº¬å¸‚æµ¦å£åŒºæ´¥æµ¦è·¯30å·</p>
          <p>ä»‹ç»ï¼šæµ¦å£ç«è½¦ç«™ä½äºæ±Ÿè‹çœå—äº¬å¸‚æµ¦å£åŒºï¼Œæ˜¯å…¨å›½é‡ç‚¹æ–‡ç‰©ä¿æŠ¤å•ä½ï¼Œä¸­å›½å”¯ä¸€ä¿å­˜æ°‘å›½ç‰¹è‰²çš„ç«è½¦ç«™.</p>
          <p>æµ¦å£ç«è½¦ç«™æ˜¯è¿‘ç°ä»£é‡è¦å²è¿¹åŠä»£è¡¨æ€§å»ºç­‘ï¼Œå§‹å»ºäº1908å¹´(æ¸…å…‰ç»ªä¸‰åå››å¹´)ï¼Œ1912å¹´å»ºæˆé€šè½¦.ä¸­å›½è¿‘ä»£è®¸å¤šé‡è¦å†å²äº‹ä»¶å‡å‘ç”Ÿåœ¨æ­¤ï¼Œæœ±è‡ªæ¸…çš„ã€ŠèƒŒå½±ã€‹ï¼›æ¯›æ³½ä¸œé€ç•™æ³•å­¦ç”Ÿå»ä¸Šæµ·ï¼Œåœ¨æ­¤ä¸¢å¤±ä¸€åŒå¸ƒé‹ï¼›éƒ­æ²«è‹¥åœ¨æ­¤ä¸­è½¬åˆ°å—æ˜Œå»å¯»æ‰¾é©å‘½åŒå¿—ï¼›å­™ä¸­å±±å…ˆç”Ÿçµæ¦‡æŠµæ­¤ä¸¾è¡Œè¿çµä»ªå¼ï¼›äººæ°‘è§£æ”¾å†›å‘èµ·æ¸¡æ±Ÿæˆ˜å½¹ï¼›é‚“å°å¹³å’Œé™ˆæ¯…åˆ°æ­¤è¿‡æ±Ÿï¼Œè¿›é©»æ€»ç»Ÿåºœçš†å‘ç”Ÿäºæ­¤.</p>
          <p>æµ¦å£ç«è½¦ç«™æ˜¯å½“å¹´è¿æ¥å¹³æ´¥å†€ã€é²è±«çš–ç­‰11çœçš„é‡è¦äº¤é€šæ¢çº½.è§£æ”¾åï¼Œéšç€å—äº¬é•¿æ±Ÿå¤§æ¡¥é€šè½¦åç«è½¦ç«™é€æ¸æ²¡è½.1985å¹´æ›¾æ¢å¤éƒ¨åˆ†å®¢è¿ï¼Œå¹¶æ›´åä¸º"å—äº¬åŒ—ç«™".2004å¹´æ°¸ä¹…æ€§åœè¿.è¿‘å¹´æ¥é€æ¸æˆä¸ºä»¥æ°‘å›½ä¸ºèƒŒæ™¯çš„ç”µå½±åŠç”µè§†å‰§çš„é‡è¦å¤–æ™¯åŸºåœ°.ã€Šæƒ…æ·±æ·±é›¨è’™è’™ã€‹ã€ã€Šå›½æ­Œã€‹ã€ã€Šé‡‘ç²‰ä¸–å®¶ã€‹ç­‰æ°‘å›½é¢˜æå½±è§†å‡åœ¨å–æ™¯.</p>
          <p>åœ¨ä¸­å›½é“è·¯ç™¾å¹´å²ä¸Šï¼Œæµ¦å£ç«è½¦ç«™å’Œæ´¥æµ¦é“è·¯å æœ‰å¾ˆé‡è¦çš„åœ°ä½.å› ä¸ºå®ƒæ˜¯ä¸­å›½æœ€æ—©æœ€é•¿çš„ä¸€æ¡é“è·¯ï¼Œè€Œæµ¦å£ç«è½¦ç«™æ˜¯å®ƒå—ç«¯çš„ç»ˆç‚¹.æµ¦å£å†æ¥ä¸ºå—åŒ—äº¤é€šçš„è¦å†²ï¼Œæ˜¯æ¥é€šå¤§æ±Ÿå—åŒ—çš„å’½å–‰ä¹‹åœ°ï¼Œåœ¨é•¿æ±Ÿå¤§æ¡¥æœªé€šè½¦å‰ï¼Œæµ¦å£ç«è½¦ç«™åˆ™æ˜¯è¿™å’½å–‰çš„è±¡å¾.è½¦ç«™å¤§æ¥¼åº§è½åœ¨æµ¦å£æ±Ÿè¾¹ï¼Œè¿œç°å—äº¬ä¸‹å…³ï¼Œå¹³åæ±Ÿæ¿‘ï¼Œå®ä¸ºæµ¦å£å¢ƒå†…ä¸€å¤§è§‚.</p>
          
          <!-- æ’å…¥æµ¦å£ç«è½¦ç«™ç…§ç‰‡ -->
          <div class="image-container">
            <img src="./images/è‚²02.png" alt="æµ¦å£ç«è½¦ç«™">
            <div class="image-caption">æµ¦å£ç«è½¦ç«™ - ã€ŠèƒŒå½±ã€‹æ•…äº‹å‘ç”Ÿåœ°</div>
          </div>
        </div>
      </div>
    </div>

    <!-- é¢æ¿åˆ‡æ¢æŒ‰é’® -->
    <div class="panel-toggle left-toggle" id="leftToggle">æ–‡</div>
    <div class="panel-toggle right-toggle" id="rightToggle">æ—…</div>
    <div class="panel-toggle bottom-toggle" id="bottomToggle">è‚²</div>

    <div class="header">
      <h1>æ¢ç´¢ä½œå®¶ç¬”ä¸‹çš„äººæ–‡å—äº¬</h1>
      <p>æ–‡éƒ½äº‘å›¾ï¼šå—äº¬ç°å½“ä»£æ–‡å­¦åœ°å›¾æ•°å­—å¯¼è§ˆä¸æ–‡åˆ›å¹³å°</p>
    </div>

    <div class="search-container">
      <input
        type="text"
        id="searchInput"
        placeholder="è¯·è¾“å…¥ä½œå®¶å§“å(å¦‚:å¶å…†è¨€ã€æœ±è‡ªæ¸…...)"
      />
      <button id="searchBtn">æœç´¢</button>
    </div>

    <div class="container">
      <div id="mapContainer"></div>

      <div class="sidebar">
        <div id="infoPanel">
          <div class="default-message">
            <h3>æ¬¢è¿ä½¿ç”¨å—äº¬ç°å½“ä»£æ–‡å­¦åœ°å›¾æ•°å­—å¯¼è§ˆä¸æ–‡åˆ›å¹³å°</h3>
            <p>åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ä½œå®¶å§“åï¼ŒæŸ¥çœ‹ä»–ä»¬åœ¨å—äº¬çš„åˆ›ä½œè¶³è¿¹</p>
            <p>ç‚¹å‡»åœ°å›¾ä¸Šçš„æ ‡è®°ç‚¹ï¼ŒæŸ¥çœ‹ä½œå“è¯¦æƒ…</p>
            <p>ä½¿ç”¨ä¸¤ä¾§é¢æ¿äº†è§£æ›´å¤šå—äº¬æ–‡å­¦ä¿¡æ¯</p>
          </div>
        </div>

        <div id="counter">
          <div class="counter-label">å½“å‰å±•ç¤º</div>
          <div class="counter-number">0</div>
          <div class="counter-label">ä¸ªç›¸å…³åœ°æ ‡</div>
        </div>
      </div>

    <div class="sidebar">
      <div id="infoPanel">
        <div class="default-message">
            <h3>è§†é¢‘åˆé›†</h3>
        </div>
        <div class="explore-btn-container">
            <a href="./html/keben.html" class="explore-btn">è·Ÿç€è¯¾æœ¬æ¸¸å—äº¬</a>
            <a href="./html/authorCollection.html" class="explore-btn">è·Ÿç€åäººæ¸¸å—äº¬</a>
            <a href="./html/didian.html" class="explore-btn">è·Ÿç€å—äº¬å¿†åå®¶</a>
        </div>
      </div>
    </div>

    <div class="imgFooter" style="text-align: center">
      <img
        src="./images/footer.png"
        alt="é¡µè„šå›¾ç‰‡"
        style="width: 1400px; height: 600px; object-fit: cover"
      />
    </div>
    
    <div class="section-container">
        <div class="explore-btn-container">
            <a href="./html/product.html" class="explore-btn">æ–‡åˆ›äº§å“</a>
        </div>
    </div>

    <script src="./js/script.js"></script>
    <script src="./js/ai_assistant.js"></script>

    <script>
      // å…¨å±€å˜é‡å­˜å‚¨åœ°å›¾å®ä¾‹
      let myChart = null;
      let allMarkers = [];

      // åœ°ç‚¹åæ ‡æ•°æ®
      const locationCoordinates = {
        'ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†': [118.7402, 32.0385],
        'æµ¦å£ç«è½¦ç«™': [118.7246, 32.1089],
        'ç§¦æ·®æ²³': [118.786, 32.018],
        'ç„æ­¦æ¹–': [118.796, 32.070],
        'é’Ÿå±±': [118.839, 32.058],
        'æ˜å­é™µ': [118.851, 32.058],
        'è«æ„æ¹–': [118.758, 32.037],
        'çµè°·å¯º': [118.857, 32.054]
      };

      // é¢æ¿åˆ‡æ¢åŠŸèƒ½
      document
        .getElementById("leftToggle")
        .addEventListener("click", function () {
          document.getElementById("leftPanel").classList.toggle("visible");
        });

      document
        .getElementById("rightToggle")
        .addEventListener("click", function () {
          document.getElementById("rightPanel").classList.toggle("visible");
        });

      document
        .getElementById("bottomToggle")
        .addEventListener("click", function () {
          document.getElementById("bottomPanel").classList.toggle("visible");
        });

      // ç‚¹å‡»ä½œå®¶å¡ç‰‡æ—¶è‡ªåŠ¨æœç´¢
      document.querySelectorAll(".author-card").forEach((card) => {
        card.addEventListener("click", function () {
          const author = this.getAttribute("data-author");
          document.getElementById("searchInput").value = author;
          document.getElementById("searchBtn").click();

          // ç¡®ä¿å·¦ä¾§é¢æ¿æ‰“å¼€
          document.getElementById("leftPanel").classList.add("visible");
        });
      });

      // ç‚¹å‡»åœ°ç‚¹åç§°è·³è½¬åˆ°åœ°å›¾å¯¹åº”ä½ç½®
      function setupLocationLinks() {
        // è®¾ç½®"è‚²"å­—é¢æ¿ä¸­çš„åœ°ç‚¹é“¾æ¥
        document.querySelectorAll('.location-link').forEach(link => {
          link.addEventListener('click', function() {
            const locationName = this.getAttribute('data-location');
            jumpToLocation(locationName);
          });
        });

        // è®¾ç½®"æ—…"å­—é¢æ¿ä¸­çš„æ™¯ç‚¹åç§°
        document.querySelectorAll('.attraction-name').forEach(attraction => {
          attraction.addEventListener('click', function() {
            const locationName = this.getAttribute('data-location');
            jumpToLocation(locationName);
          });
        });
      }

      // è·³è½¬åˆ°æŒ‡å®šåœ°ç‚¹
      function jumpToLocation(locationName) {
        if (!myChart) return;

        const coordinates = locationCoordinates[locationName];
        if (coordinates) {
          // ç§»åŠ¨åœ°å›¾ä¸­å¿ƒåˆ°æŒ‡å®šä½ç½®
          myChart.setOption({
            geo: {
              center: coordinates,
              zoom: 12
            }
          });

          // é«˜äº®æ˜¾ç¤ºè¯¥åœ°ç‚¹
          myChart.dispatchAction({
            type: 'highlight',
            seriesIndex: 0,
            name: locationName
          });

          // æ˜¾ç¤ºè¯¥åœ°ç‚¹çš„ä¿¡æ¯
          const locationData = allMarkers.find(marker => marker.name === locationName);
          if (locationData) {
            let worksHtml = "";
            if (locationData.works && locationData.works.length > 0) {
              worksHtml = '<div class="literary-works"><h4>ç›¸å…³ä½œå“:</h4><ul>';
              locationData.works.forEach((work) => {
                const title = work.title || "æœªçŸ¥ä½œå“";
                const author = work.author || "æœªçŸ¥ä½œè€…";
                const excerpt = work.excerpt || "æš‚æ— æè¿°";
                const nanjingDesc = work.nanjingDescription || "æš‚æ— å—äº¬ç›¸å…³æå†™";
                const locationName = work.location || "æœªçŸ¥åœ°ç‚¹";

                worksHtml += `
                  <li class="work-item">
                    <div class="work-header">
                      <span class="work-title">ã€Š${title}ã€‹</span>
                      <span class="work-location">- ${locationName}</span>
                    </div>
                    <div class="work-author">ä½œè€…ï¼š${author}</div>
                    <div class="work-excerpt">${excerpt}</div>
                    <div class="nanjing-description">
                      <div class="desc-title">å—äº¬æå†™ï¼š</div>
                      <div class="desc-content">${nanjingDesc}</div>
                    </div>
                  </li>
                `;
              });
              worksHtml += "</ul></div>";
            } else {
              worksHtml = '<p class="no-works">æš‚æ— ç›¸å…³ä½œå“ä¿¡æ¯</p>';
            }

            $("#infoPanel").html(`
              <div class="location-info">
                <h3>${locationData.name || "æœªçŸ¥åœ°ç‚¹"}</h3>
                <p class="location-description">${
                  locationData.excerpt || "æ±Ÿè‹çœä¼šï¼Œå…­æœå¤éƒ½ï¼Œä¸­å›½ç°ä»£æ–‡å­¦é‡è¦åŸå¸‚"
                }</p>
                ${worksHtml}
              </div>
            `);
          }

          // 3ç§’åå–æ¶ˆé«˜äº®
          setTimeout(() => {
            myChart.dispatchAction({
              type: 'downplay',
              seriesIndex: 0,
              name: locationName
            });
          }, 3000);
        }
      }

      // åœ°å›¾åˆå§‹åŒ–ä»£ç 
      $(document).ready(function () {
        myChart = echarts.init(document.getElementById("mapContainer"));

        // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
        myChart.showLoading({
          text: "æ­£åœ¨åŠ è½½æ–‡å­¦åœ°å›¾...",
          color: "#4a6cf7",
          textColor: "#4a5568",
          maskColor: "rgba(255, 255, 255, 0.95)",
          spinnerRadius: 15,
          lineWidth: 4,
          fontSize: 16,
          fontWeight: "bold",
        });

        // ä½¿ç”¨æœ¬åœ°åœ°å›¾æ•°æ®
        fetch("./data/nanjing.json")
          .then((response) => response.json())
          .then((nanjingGeoJSON) => {
            echarts.registerMap("nanjing", nanjingGeoJSON);

            // è·å–æ ‡è®°ç‚¹æ•°æ®
            allMarkers = window.getNanjingMarkers ? window.getNanjingMarkers() : [
              {name: 'ä¾µåæ—¥å†›å—äº¬å¤§å± æ€é‡éš¾åŒèƒçºªå¿µé¦†', value: [118.7402, 32.0385, 1], excerpt: 'å›½å®¶å…¬ç¥­åœºæ‰€'},
              {name: 'æµ¦å£ç«è½¦ç«™', value: [118.7246, 32.1089, 1], excerpt: 'ã€ŠèƒŒå½±ã€‹æ•…äº‹å‘ç”Ÿåœ°'},
              {name: 'ç§¦æ·®æ²³', value: [118.786, 32.018, 1], excerpt: 'æœ±è‡ªæ¸…ã€Šæ¡¨å£°ç¯å½±é‡Œçš„ç§¦æ·®æ²³ã€‹'},
              {name: 'ç„æ­¦æ¹–', value: [118.796, 32.070, 1], excerpt: 'å€ªè´»å¾·ã€Šç„æ­¦æ¹–ä¹‹ç§‹ã€‹'},
              {name: 'é’Ÿå±±', value: [118.839, 32.058, 1], excerpt: 'ç´«é‡‘å±±æ–‡å­¦åœ°æ ‡'},
              {name: 'æ˜å­é™µ', value: [118.851, 32.058, 1], excerpt: 'æ˜ä»£çš‡é™µ'},
              {name: 'è«æ„æ¹–', value: [118.758, 32.037, 1], excerpt: 'ä¸˜é€¢ç”²ã€Šé›ªä¸­æ¸¸è«æ„æ¹–ã€‹'},
              {name: 'çµè°·å¯º', value: [118.857, 32.054, 1], excerpt: 'æŸ³è¯’å¾½ã€Šç‹¬å¾€çµè°·å¯ºã€‹'}
            ];

            const option = {
              title: {
                text: "å—äº¬æ–‡å­¦åœ°å›¾",
                subtext: "ä½œå®¶ç¬”ä¸‹çš„äººæ–‡å—äº¬",
                left: "center",
                textStyle: {
                  color: "#2d3748",
                  fontSize: 24,
                  fontWeight: "bold",
                },
                subtextStyle: {
                  color: "#718096",
                  fontSize: 16,
                },
              },
              tooltip: {
                trigger: "item",
                backgroundColor: "rgba(255, 255, 255, 0.95)",
                borderColor: "#e2e8f0",
                borderWidth: 1,
                padding: 15,
                borderRadius: 8,
                textStyle: {
                  color: "#2d3748",
                },
                formatter: function (params) {
                  if (params.componentType === "series") {
                    return `<div style="font-weight:bold;margin-bottom:5px;">${
                      params.name
                    }</div>
                      <div>${
                        params.data.excerpt || "å—äº¬æ–‡å­¦åœ°æ ‡"
                      }</div>
                      <div style="margin-top:8px;color:#4a5568;">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</div>`;
                  }
                  return params.name;
                },
              },
              geo: {
                map: "nanjing",
                roam: true,
                zoom: 8,
                center: [118.8, 32.05],
                label: {
                  emphasis: {
                    show: false,
                  },
                },
                itemStyle: {
                  areaColor: "#e8f4ff",
                  borderColor: "#297acc",
                },
                emphasis: {
                  itemStyle: {
                    areaColor: "#a4d0ff",
                  },
                  label: {
                    show: true,
                    color: "#1a3d66",
                  },
                },
              },
              series: [
                {
                  name: "æ–‡å­¦åœ°æ ‡",
                  type: "scatter",
                  coordinateSystem: "geo",
                  symbol: "pin",
                  symbolSize: [40, 50],
                  itemStyle: {
                    color: "#ff6b6b",
                  },
                  data: allMarkers,
                  label: {
                    show: true,
                    formatter: "{b}",
                    position: "bottom",
                    color: "#1a3d66",
                    fontSize: 12,
                  },
                  zlevel: 2,
                },
              ],
            };

            // åº”ç”¨é…ç½®
            myChart.setOption(option);

            // éšè—åŠ è½½åŠ¨ç”»
            myChart.hideLoading();

            // æ›´æ–°è®¡æ•°å™¨
            $(".counter-number").text(allMarkers.length);

            // è®¾ç½®åœ°ç‚¹é“¾æ¥ç‚¹å‡»äº‹ä»¶
            setupLocationLinks();

            // è®¾ç½®EChartsåœ°å›¾çš„å…‰æ ‡æ ·å¼
            const ecContainers = document.querySelectorAll(
              "#mapContainer canvas, #mapContainer > div"
            );
            ecContainers.forEach((container) => {
              container.style.cursor = "url('./images/fly.cur'), auto";
            });

            // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œé‡æ–°åº”ç”¨å…‰æ ‡æ ·å¼
            window.addEventListener("resize", function () {
              const ecContainers = document.querySelectorAll(
                "#mapContainer canvas, #mapContainer > div"
              );
              ecContainers.forEach((container) => {
                container.style.cursor = "url('./images/fly.cur'), auto";
              });
            });

            // åœ°å›¾ç‚¹å‡»äº‹ä»¶
            myChart.on("click", function (params) {
              if (params.componentType === "series") {
                const location = params.data;

                let worksHtml = "";
                if (location.works && location.works.length > 0) {
                  worksHtml = '<div class="literary-works"><h4>ç›¸å…³ä½œå“:</h4><ul>';
                  location.works.forEach((work) => {
                    const title = work.title || "æœªçŸ¥ä½œå“";
                    const author = work.author || "æœªçŸ¥ä½œè€…";
                    const excerpt = work.excerpt || "æš‚æ— æè¿°";
                    const nanjingDesc = work.nanjingDescription || "æš‚æ— å—äº¬ç›¸å…³æå†™";
                    const locationName = work.location || "æœªçŸ¥åœ°ç‚¹";

                    worksHtml += `
                      <li class="work-item">
                        <div class="work-header">
                          <span class="work-title">ã€Š${title}ã€‹</span>
                          <span class="work-location">- ${locationName}</span>
                        </div>
                        <div class="work-author">ä½œè€…ï¼š${author}</div>
                        <div class="work-excerpt">${excerpt}</div>
                        <div class="nanjing-description">
                          <div class="desc-title">å—äº¬æå†™ï¼š</div>
                          <div class="desc-content">${nanjingDesc}</div>
                        </div>
                      </li>
                    `;
                  });
                  worksHtml += "</ul></div>";
                } else {
                  worksHtml = '<p class="no-works">æš‚æ— ç›¸å…³ä½œå“ä¿¡æ¯</p>';
                }

                $("#infoPanel").html(`
                  <div class="location-info">
                    <h3>${location.name || "æœªçŸ¥åœ°ç‚¹"}</h3>
                    <p class="location-description">${
                      location.excerpt || "æ±Ÿè‹çœä¼šï¼Œå…­æœå¤éƒ½ï¼Œä¸­å›½ç°ä»£æ–‡å­¦é‡è¦åŸå¸‚"
                    }</p>
                    ${worksHtml}
                  </div>
                `);
              }
            });
          });

        // å“åº”çª—å£å¤§å°å˜åŒ–
        window.addEventListener("resize", function () {
          if (myChart) {
            myChart.resize();
          }
        });

        // æœç´¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        $("#searchBtn").click(function () {
          const query = $("#searchInput").val().trim().toLowerCase();
          // å…ˆå–æ¶ˆä¹‹å‰æ‰€æœ‰é«˜äº®
          myChart.dispatchAction({ type: "downplay" });

          // è¿‡æ»¤å‡ºåŒ…å«è¯¥ä½œè€…çš„åœ°æ ‡ç‚¹
          const filteredMarkers = allMarkers.filter(
            (marker) =>
              marker.authors &&
              marker.authors.some((author) => author.includes(query))
          );

          if (filteredMarkers.length > 0) {
            // æ›´æ–°åœ°å›¾æ•°æ® - åªæ˜¾ç¤ºè¯¥ä½œå®¶ç›¸å…³çš„æ ‡è®°ç‚¹
            myChart.setOption({
              series: [
                {
                  data: filteredMarkers,
                },
              ],
            });

            // æ›´æ–°è®¡æ•°å™¨
            $(".counter-number").text(filteredMarkers.length);

            // é«˜äº®ç›¸å…³åŒºåŸŸ
            filteredMarkers.forEach((marker) => {
              myChart.dispatchAction({
                type: "highlight",
                seriesIndex: 0,
                name: marker.name,
              });
            });

            // æŸ¥æ‰¾ä½œå®¶ä¿¡æ¯
            const matchedAuthor = Object.keys(authorsData).find(
              (author) => author.includes(query) || query.includes(author)
            );

            if (matchedAuthor) {
              const authorInfo = authorsData[matchedAuthor];
              // æ„å»ºä½œå“åˆ—è¡¨ï¼ˆå®Œæ•´ä»£ç ï¼‰
              let worksHtml = "";
              if (authorInfo.works && authorInfo.works.length > 0) {
                worksHtml = '<div class="literary-works"><h4>ä»£è¡¨ä½œå“:</h4><ul>';
                authorInfo.works.forEach((work) => {
                  // ç¡®ä¿æ˜¾ç¤ºä½œå“æè¿°
                  worksHtml += `<li>
                    <div class="work-title">ã€Š${work.title}ã€‹</div>
                    <div class="work-location">åœ°ç‚¹: ${work.location}</div>
                    <div class="work-excerpt">${work.excerpt}</div>
                    <div class="nanjing-description">${
                      work.nanjingDescription || "æš‚æ— å—äº¬ç›¸å…³æå†™"
                    }</div>
                  </li>`;
                });
                worksHtml += "</ul></div>";
              }

              $("#infoPanel").html(`
                <div class="author-info">
                  <h3>${authorInfo.name}</h3>
                  <p>${authorInfo.intro}</p>
                  ${worksHtml}
                </div>
              `);
            }
          } else {
            $("#infoPanel").html(`<div class="author-info">
              <h3>æœªæ‰¾åˆ°ç›¸å…³ç»“æœ</h3>
              <p>è¯·å°è¯•æœç´¢ä½œå®¶å§“å(å¦‚:å¶å…†è¨€ã€æœ±è‡ªæ¸…)æˆ–åœ°ç‚¹åç§°(å¦‚:ç§¦æ·®æ²³ã€å¤«å­åº™)</p>
            </div>`);

            myChart.setOption({
              series: [
                {
                  data: allMarkers,
                },
              ],
            });
            $(".counter-number").text(allMarkers.length);
          }
        });
      });
    </script>
  </body>
</html>